<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>

<body>
<header>
    <th:block th:include="~{fragments/navbar}"></th:block>
</header>
<main>
    <section id="appointment" class="appointment section-bg">
        <div class="container">

            <div class="section-title">
                <h2>Details.</h2>
                <p>You can find the details about your request and the answer of our specialist.</p>
            </div>

            <form th:method="post" th:action="@{/consultation/answer/{id}(id=${consultation.id})}" class="php-email-form" th:object="${model}">
                <div class="section-title">
                    <h4>Age</h4>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input type="text" disabled="disabled" class="form-control" th:value="${consultation.age}">
                        <div class="validate"></div>
                    </div>
                </div>
                <div class="section-title">
                    <h4>Gender</h4>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input type="text" disabled="disabled" class="form-control" th:value="${consultation.gender}">
                        <div class="validate"></div>
                    </div>
                </div>

                <div class="section-title">
                    <h4>Do you have any set diagnoses or chronic illnesses? If yes, what are they?</h4>
                </div>
                <textarea class="form-control" disabled="disabled" rows="5">
                        [[${consultation.diagnoses}]]
                </textarea>

                <div class="section-title">
                    <h4>Do you take any medicaments, vitamins or supplements on regular basis? If yes, what are they and how much do you take?</h4>
                </div>
                <textarea class="form-control" disabled="disabled" rows="5">
                        [[${consultation.medicaments}]]
                </textarea>

                <div class="section-title">
                    <h4>Do you have any allergies? If yes, what are they?</h4>
                </div>
                <textarea class="form-control" disabled="disabled" rows="5">
                        [[${consultation.allergy}]]
                </textarea>

                <div class="section-title">
                    <h4>Problem title</h4>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input type="text" disabled="disabled" class="form-control" th:value="${consultation.problemTitle}">
                    </div>
                </div>

                <div class="section-title">
                    <h4>What is your problem and what do you want to achieve?</h4>
                </div>
                <div class="form-group">
                    <textarea class="form-control" disabled="disabled" rows="5">
                        [[${consultation.problemDescription}]]
                    </textarea>
                </div>

                <th:block th:if="${consultation.answer == null}">
                    <div class="section-title">
                        <h4>Your answer</h4>
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" id="problemAnswer" name="problemAnswer" rows="5" placeholder="Type your answer..." th:value="*{problemAnswer}"></textarea>
                        <th:block th:if="${#fields.hasErrors('problemAnswer')}">
                            <p class="error" th:errors="*{problemAnswer}"></p>
                        </th:block>
                    </div>

                    <div class="button-holder d-flex justify-content-center">
                        <button class="text-center btn btn-info text-white mb-3" type="submit">Send Answer</button>
                    </div>
                </th:block>
                <th:block th:unless="${consultation.answer == null}">
                    <div class="section-title">
                        <h4>Your sent answer</h4>
                    </div>
                    <textarea class="form-control" disabled="disabled" rows="5">
                        [[${consultation.answer.problemAnswer}]]
                    </textarea>
                </th:block>
            </form>

        </div>
    </section>
</main>
<footer>
    <th:block th:include="~{fragments/footer}"></th:block>
</footer>
</body>
</html>