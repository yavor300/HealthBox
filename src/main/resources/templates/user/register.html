<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>

<body>
<header>
    <th:block th:include="~{fragments/navbar}"></th:block>
</header>
<main>
    <section id="appointment" class="appointment section-bg">
        <div class="container">
            <div class="section-title">
                <h2>Register</h2>
                <p>Take your health to next level.</p>
            </div>
            <form th:method="POST" th:action="@{/user/register}" class="php-email-form"
                  th:object="${userRegisterBindingModel}">
                <div th:if="${userAlreadyExists}" class="alert alert-danger text-center" role="alert">
                    User with that email already exists!
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input th:field="*{firstName}" th:classappend="${#fields.hasErrors('firstName')}? 'is-invalid'"
                               type="text" name="firstName"
                               class="form-control" id="firstName" placeholder="First Name..." th:value="*{firstName}">
                        <small th:if="${#fields.hasErrors('firstName')}" class="text-danger"
                               th:errors="*{firstName}"></small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input th:field="*{lastName}" th:classappend="${#fields.hasErrors('lastName')}? 'is-invalid'"
                               type="text" name="lastName"
                               class="form-control" id="lastName" placeholder="Last Name...">
                        <small th:if="${#fields.hasErrors('lastName')}" class="text-danger"
                               th:errors="*{lastName}"></small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <select th:field="*{title}" th:classappend="${#fields.hasErrors('title')}? 'is-invalid'"
                                name="title" id="title" class="form-control">
                            <option value="">Select Title</option>
                            <option th:each="t : ${T(project.healthbox.domain.entities.enums.TitleEnum).values()}"
                                    th:value="${t}"
                                    th:text="${#strings.capitalize(t.toString().toLowerCase())}">
                            </option>
                        </select>
                        <small th:if="${#fields.hasErrors('title')}" class="text-danger"
                               th:errors="*{title}"></small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input th:field="*{email}" th:classappend="${#fields.hasErrors('email')}? 'is-invalid'"
                               type="email" class="form-control" name="email" id="email" placeholder="Email...">
                        <small th:if="${#fields.hasErrors('email')}" class="text-danger"
                               th:errors="*{email}"></small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input th:field="*{password}" th:classappend="${#fields.hasErrors('password')}? 'is-invalid'"
                               type="password" class="form-control" name="password" id="password"
                               placeholder="Password...">
                        <small th:if="${#fields.hasErrors('password')}" class="text-danger"
                               th:errors="*{password}"></small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 offset-md-4 form-group">
                        <input th:field="*{confirmPassword}"
                               th:classappend="${#fields.hasErrors('confirmPassword')}? 'is-invalid'" type="password"
                               class="form-control" name="confirmPassword" id="confirmPassword"
                               placeholder="Confirm Password...">
                        <small th:if="${#fields.hasErrors('confirmPassword')}" class="text-danger"
                               th:errors="*{confirmPassword}"></small>
                    </div>
                </div>
                <div class="button-holder d-flex justify-content-center">
                    <button class="text-center btn btn-info text-white mb-3" type="submit">Register</button>
                </div>
            </form>
        </div>
    </section>
</main>
<footer>
    <th:block th:include="~{fragments/footer}"></th:block>
</footer>
</body>
</html>